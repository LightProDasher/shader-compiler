From f1449af8ddfc23ac917aceb7e1bdf03130e075b7 Mon Sep 17 00:00:00 2001
From: Billy Laws <blaws05@gmail.com>
Date: Tue, 22 Mar 2022 21:09:38 +0000
Subject: [PATCH 7/7] Include <bit> header when std::count{r,l}_zero is used

Required for building with libc++
---
 backend/spirv/emit_spirv_atomic.cpp          | 2 ++
 backend/spirv/emit_spirv_context_get_set.cpp | 1 +
 backend/spirv/spirv_emit_context.cpp         | 1 +
 3 files changed, 4 insertions(+)

diff --git a/backend/spirv/emit_spirv_atomic.cpp b/backend/spirv/emit_spirv_atomic.cpp
index d3cbb14..cb47d25 100644
--- a/backend/spirv/emit_spirv_atomic.cpp
+++ b/backend/spirv/emit_spirv_atomic.cpp
@@ -2,6 +2,8 @@
 // Licensed under GPLv2 or any later version
 // Refer to the license.txt file included.
 
+#include <bit>
+
 #include "shader_recompiler/backend/spirv/emit_spirv.h"
 #include "shader_recompiler/backend/spirv/emit_spirv_instructions.h"
 #include "shader_recompiler/backend/spirv/spirv_emit_context.h"
diff --git a/backend/spirv/emit_spirv_context_get_set.cpp b/backend/spirv/emit_spirv_context_get_set.cpp
index 3c2a5e1..aa70829 100644
--- a/backend/spirv/emit_spirv_context_get_set.cpp
+++ b/backend/spirv/emit_spirv_context_get_set.cpp
@@ -2,6 +2,7 @@
 // Licensed under GPLv2 or any later version
 // Refer to the license.txt file included.
 
+#include <bit>
 #include <tuple>
 #include <utility>
 
diff --git a/backend/spirv/spirv_emit_context.cpp b/backend/spirv/spirv_emit_context.cpp
index 53be98c..28f6a61 100644
--- a/backend/spirv/spirv_emit_context.cpp
+++ b/backend/spirv/spirv_emit_context.cpp
@@ -4,6 +4,7 @@
 
 #include <algorithm>
 #include <array>
+#include <bit>
 #include <climits>
 
 #include <boost/container/static_vector.hpp>
-- 
2.35.1

